# Выпускной проект TODO-list
В директории `tests` находятся тесты для проверки API, которое должно быть реализовано в веб-сервере.

Директория `web` содержит файлы фронтенда.

## Задания со звездочкой

Выполнены все задания "со звездочкой":
-   Возможность определять извне порт при запуске сервера через переменную окружения `TODO_PORT` (по умолчанию 7540)
-   Возможность определять путь к файлу базы данных через переменную окружения `TODO_DBFILE` (по умолчанию scheduler.db)
-   Правила повторения `w` и `m`
-   Возможность отфильтровать по дате, заголовку или комментарию
-   Аутентификация
-   Dockerfile

## Аутентификация и пароль

Реализована аутентификация, файл `tests/settings.go` содержит JWT-токен соответствующий паролю по умолчанию в файле .env

Чтобы изменить пароль и успешного завершить тесты необходимо после изменения пароля и запуска сервера скопировать JWT-токен из логов и вставить в поле `token` файла `tests/settings.go`

## Сборка и запуск Dockerfile'a
```
docker build --tag todo-app .
docker run -d -p 7540:7540 todo-app
```
Порт соответствует значению `TODO_PORT` в .env

## Запуск тестов
### На локальной машине:
1. Запусить сервер `go run .`
2. Запусить тесты `go test ./tests`

### Внутри докер-образа:
1. Установить апдейт apt `apt update`
2. Установить go `apt install golang`
3. Установить curl `apt install curl`
4. Запусить тесты `go test ./tests`